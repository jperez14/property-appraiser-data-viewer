<div class="container">
<div class="header">
  <img src="images/banner.jpg" class="img-responsive hidden-xs" alt="Miami-Dade County Property Appraiser">
  <img src="images/banner-small-device.jpg" class="img-responsive visible-xs" alt="Miami-Dade County Property Appraiser">
</div>

<nav class="navbar navbar-default" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse navbar-ex1-collapse">
    <ul id="site_nav" class="nav navbar-nav">
      <li style="width:8%"><a href="http://www.miamidade.gov/pa/home.asp" target="_blank" class="two_line_fix">Home</a></li>
      <li style="width:16%"><a href="http://www.miamidade.gov/pa/exemptions.asp" target="_blank">Exemptions &amp;<br /> Other Benefits</a></li>
      <li style="width:8%"><a href="http://www.miamidade.gov/pa/real_estate.asp" target="_blank">Real<br /> Estate</a></li>
      <li style="width:18%"><a href="http://www.miamidade.gov/pa/property_tangible.asp" target="_blank">Tangible<br>Personal Property</a></li>
      <li style="width:9%"><a href="http://www.miamidade.gov/pa/public_records.asp" target="_blank">Public<br /> Records</a></li>
      <li style="width:8.5%"><a href="http://www.miamidade.gov/pa/online_tools.asp" target="_blank">Online<br />Tools</a></li>
      <li style="width:16%"><a href="http://www.miamidade.gov/pa/roll-administration.asp" target="_blank">Tax Roll<br>Administration</a></li>
      <li style="width:8%"><a href="http://www.miamidade.gov/pa/about_us.asp" target="_blank">About<br> Us</a></li>
      <li style="width:8%"><a href="http://www.miamidade.gov/pa/contact.asp" target="_blank">Contact<br> Us</a></li>
    </ul> 

  </div><!-- /.navbar-collapse -->
</nav>
</div><!-- /.container -->

<div class="container">  

  <div class="content">
  
  <!--[if lt IE 9]>
<div class="alert alert-warning">Internet Explorer 8 is not fully supported in this application. Please upgrade or use a different browser to enjoy all features of the Miami-Dade County Property Search.</div>
<![endif]-->

    <div class="search_area">
      
      <div class="text-right hidden-xs social-buttons">

      <!--<a href="#" ng-show="property" target="_blank" ng-click="openReportSummaryWindow()"><img src="images/icon-print.png" alt="Print" title="Print"></a>-->
      <a ng-show="property" class="print-modal"><img src="images/icon-print.png" alt="Print" title="Print"></a>
      <!--<a href="http://www.miamidade.gov/pa/includes/property-search/sendEmail.asp" target="_blank"><img src="images/icon-email.png" alt="Email this page" title="Email this page"></a>-->
      <a href="https://www.facebook.com/MiamiDadePA" target="_blank"><img src="images/icon-facebook.png" alt="Facebook" title="Facebook"></a>
      <a href="https://twitter.com/MiamiDadePA" target="_blank"><img src="images/icon-twitter.png" alt="Twitter" title="Twitter"></a>

	  </div>
      
      <!-- Nav tabs -->
      <ul class="nav nav-tabs">
        <li ng-class="{active: isActiveSearchTab('Address')}"><a ng-click="setActiveSearchTab('Address')" id="t-address">Address</a></li>
        <li ng-class="{active: isActiveSearchTab('Owner')}"><a ng-click="setActiveSearchTab('Owner')" id="t-owner">Owner Name</a></li>
        <li ng-class="{active: isActiveSearchTab('Folio')}"><a ng-click="setActiveSearchTab('Folio')" id="t-folio">Folio</a></li>
      </ul>


      
      <div class="row">    

        <div class="col-md-1 col-sm-1 col-xs-12 search-text">
          <h2>Search:</h2>
        </div>




        <div class="col-md-6 col-sm-7 col-xs-12 text-right">


          <!-- Tab panes -->
          <div class="tab-content">

            
            <div class="tab-pane" ng-class="{active: isActiveSearchTab('Address')}" id="address">

              <div class="input-group">
                
                 <input type="text" value="Address" name="" id="search_box" placeholder="111 NW 1 St" class="form-control add-main"
					ng-model='address' ng-click="showError=false" ui-keypress="{13:'validateAddress()'}" >
                 <input type="text" value="" name="" id="search_box" placeholder="Suite" class="form-control add-suite" ng-model="suite" ng-click="showError=false" ui-keypress="{13:'validateAddress()'}">
                <span class="input-group-btn">
                  <button class="btn btn-default btn-primary" id="search_submit" type="button" ng-click="validateAddress()">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>


            </div>
            
            
            
            <div class="tab-pane" ng-class="{active: isActiveSearchTab('Owner')}" id="owner-name">

              <div class="input-group">
                <input type="text" value="Owner Name" name="ownerName" id="search_box" placeholder="Owner Name" class="form-control owner-box"
					ng-model='ownerName' ng-click="showError=false" ui-keypress="{13:'getCandidatesByOwner()'}">
                <span class="input-group-btn">
                  <button class="btn btn-default btn-primary" id="search_submit" type="button" ng-click="getCandidatesByOwner()">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>


            </div>
            
            
            <div class="tab-pane" ng-class="{active: isActiveSearchTab('Folio')}" id="folio">

              <div class="input-group">

                <input type="text" value="Folio" name="" id="search_box" class="form-control folio-box" ui-mask='{{folioMask}}' 
					ui-keypress="{13:'searchByFolio()'}" ng-model='folio' ng-click="showError=false" > 
                <span class="input-group-btn">
                  <button class="btn btn-default btn-primary" id="search_submit" type="button" ng-click="searchByFolio()">

                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
              </div>

            </div>

          </div>

        </div>

		
        <div class="col-md-3 col-sm-3 col-xs-12 prev-search" ng-show="previousCandidatesInfo">
          <a ng-click="populatePreviousCandidates()">Back to Search Results</a>
        </div>


      </div> <!-- end row -->
      

      
    </div> <!-- /.end search_area-->
	

<div class="modal fade" id="load-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" loading-widget>
<div class="modal-dialog">
<div class="modal-content">

<div class="modal-body">

<div id="loadingWidget" class="row-fluid ui-corner-all"> <!-- loading-widget > -->
<div class="loadingContent">
<img alt="Loading Content" src="images/ajax-loader.gif" />
</div>
</div>

</div>

</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="error-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">

<div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
</div>

<div class="modal-body">

<div>{{errorMsg}}</div>

</div>

</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="print-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">

<div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h2 class="modal-title">Print Report</h2>
</div>

<div class="modal-body">
    <div><span class="glyphicon glyphicon-print" style="color:#ccc"></span> <a ng-click="openReportSummaryWindow()">Summary Report</a></div>
    <hr style="margin:7px 0;" />
    <div> <span class="glyphicon glyphicon-print" style="color:#ccc"></span> <a ng-click="openReportDetailsWindow()">Detailed Report</a></div>
</div>


</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->


  </div>

  <!-- <div class="alert alert-danger col-md-10 col-sm-5" ng-show="showError">No data was returned for {{folio}}</div> -->
  
  <div class="content main_content_body">


    

    <div class="row" ng-show="candidatesList">
      <div class="col-md-12 col-sm-12">
        <div class="property_info tabular_data">
		  <div ng-include="'views/candidates.html'"></div>
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-md-4 col-sm-5">
        
        <div class="property_info tabular_data" ng-show="property">
          <div ng-include="'views/propertyinformation.html'"></div>
        </div>
      </div>

      <div class="col-md-8 col-sm-7"> 
        
        <div class="hero-unit map_container">
        
          <div id="map" class="map_area map_absolute" ng-style="mapStyle" ng-class="{map_absolute: hideMap}">
          
          <div class="lc_container">
          
          <span class="map-button mb-zoomin" ng-click="mapZoomIn()" data-toggle="tooltip" data-placement="top" title="Zoom in on the map"></span>
          <span class="map-button mb-zoomout" ng-click="mapZoomOut()" data-toggle="tooltip" data-placement="top" title="Zoom out on the map"></span>
          <span class="map-button mb-zoombox" ng-click="mapActivateZoomInBox()" data-toggle="tooltip" data-placement="top" title="Zoom map to a drawn area"></span>
          <span class="map-button mb-fullextent" ng-click="mapZoomToFullExtent()" data-toggle="tooltip" data-placement="top" title="Zoom out to full extent"></span>
          <span class="map-button mb-initial" ng-click="mapZoomToProperty()" data-toggle="tooltip" data-placement="top" title="Return to property"></span>
                    
          	 <div id="map_lc">
            
                <!-- Arial Year - just need to replace current with year and attach handlers
                <div>
                <div class="btn-group">
                  <button type="button" class="btn btn-default btn-sm">Current</button>
                  <button type="button" class="btn btn-default btn-sm">Current1</button>
                  <button type="button" class="btn btn-default btn-sm">Current2</button>
                </div>
                </div> -->
                
                <!-- Map View List  -->
                <div style="display:inline">
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-sm dropdown-toggle layer-drop" data-toggle="dropdown">Map View <span class="caret"></span></button>
                      <ul class="dropdown-menu layer-ul" role="menu">
                      	<li>Choose your desired view below.</li>
                        <li class="divider"></li>
                        <li><span class="map-view" ng-click="mapToggleAerialOn()">Aerial Map</span></li>
                        <li class="divider"></li>
                      	<li><span class="map-view" ng-click="mapToggleStreetOn()">Street Map</span></li>
                        <li class="divider"></li>
                      	<li><span class="map-view"
                      	ng-click="openPictometryWindow()">Angled Aerial Views</span></li>
                        <li class="divider"></li>
                      	<li><span class="map-view" ng-click="showStreetView()">Google Street View</span></li>
                        <li class="divider"></li>
                      </ul>
                  </div>
                </div>
                
                <!-- Layer List  -->
                <div style="display:inline" class="layers-list">
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-sm dropdown-toggle layer-drop" data-toggle="dropdown">Layers <span class="caret"></span></button>
                      <ul class="dropdown-menu keep_open layer-ul" role="menu">
                        <li>Toggle layers by checking the options below.</li>
                        <li class="divider"></li>
                        <li ng-repeat="layer in layers"><input type="checkbox" ng-model="layer.value" ng-change="turnLayerOnOff(layer)"> {{layer.label}}</li>
                      </ul>
                  </div>
                </div>
                  
              </div> <!-- end map_lc -->
          
          
          </div>
          
          <div class="active-layers" ng-show="showLayerData()">
            <span id="layer-muni" ng-show="layerData.Municipality">{{layerData.Municipality}}</span>
            <span id="layer-zip" ng-show="layerData['Zip Code']">{{layerData['Zip Code']}}</span>
            <span id="layer-district" ng-show="layerData['Commission District']">{{layerData['Commission District']}}</span>
            <!--
            <span id="layer-zoning" ng-show="layerData['PA Zoning']">{{layerData['PA Zoning']}}</span>
            -->

          </div>
          
          
          <div class="north-icon">
            
            <div class="img-container">
              <img src="images/north.png" width="31" height="26" alt="North">
            </div>

            <div id="scale-container">
             <span>2012 Aerial Photography</span>
            </div>
          
          </div>
         
              
          </div> <!-- end map_area -->           
        </div>
        
      </div>
    </div>
    
    <div class="other_apps" ng-show="property">
    
    <div class="apps_title">Featured Online Tools</div>
      
      <ul class="row">

        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/moreTools.png" width="16" height="16" alt="Additional Online Tools"> <a href="http://www.miamidade.gov/pa/online_tools.asp" target="_blank">Additional Online Tools</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/moreTools.png" width="16" height="16" alt="Comparable "> <a class="hover_pointer" ng-click="openComparableSales()">Comparable Sales</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/moreTools.png" width="16" height="16" alt="Additional Online Tools"> <a href="http://gisweb.miamidade.gov/environmentalconsiderations/default.aspx?searchtype=address&paramvalue={{propertySiteAddress}}" target="_blank">Environmental Considerations</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/glossary.png" width="16" height="16" alt="Glossary"> <a href="http://www.miamidade.gov/pa/glossary.asp" target="_blank">Glossary</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/cards.png" width="16" height="16" alt="Property Record Cards"> <a href="http://www.miamidade.gov/PaPortal/PRC/CreatePRCmain.aspx" target="_blank">Property Record Cards</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/report-homestead-fraud.png" width="16" height="16" alt="Report Discrepancies"> <a href="http://www.miamidade.gov/pa/email/ASP/formNew.asp" target="_blank">Report Discrepancies</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/report-homestead-fraud.png" width="16" height="16" alt="Report Homestead Fraud"> <a href="http://www.miamidade.gov/paportal/HomesteadFraud/HomesteadFraud.aspx" target="_blank">Report Homestead Fraud</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/compare.png" width="16" height="16" alt="Tax Comparison"> <a href="http://www.miamidade.gov/PAPortal/Taxes/TaxComparison.aspx?folio={{property.propertyInfo.folioNumber}}" target="_blank">Tax Comparison</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/estimator.png" width="16" height="16" alt="Tax Estimator"> <a href="http://www.miamidade.gov/PAPortal/Taxes/TaxEstimator.aspx" target="_blank">Tax Estimator</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/sales.png" width="16" height="16" alt="TRIM Notice"> <a href="http://www.miamidade.gov/paportal/trimpdf/MakeTrim.aspx?FolSrch={{property.propertyInfo.folioNumber}}" target="_blank">TRIM Notice</a></li>
        <li class="col-md-3 col-sm-4 col-xs-6"><img src="images/sales.png" width="16" height="16" alt="View Taxes"> <a href="https://www.miamidade.county-taxes.com/public/real_estate/parcels/{{property.propertyInfo.folioNumber}}" target="_blank">View Taxes</a></li>

      </ul>
      
    </div>
    
    <script>

    $(document).ready(function() {
		
		$('body').on('click', function(e){
		
			if($(e.target).hasClass('pop-icon')){		
			var current_popover = $(e.target).attr('id');
				
				if ($(e.target).next('.popover').is(':visible')) {
					$('span.pop-icon').popover('destroy');
				} else {
					$('span.pop-icon').popover('destroy');
					$('#' + current_popover + '').popover('show');
				};
				
			} else {
				$('span.pop-icon').popover('destroy');
			};
		});
		

		placeholderSupport = ("placeholder" in document.createElement("input")); // test placeholder support
		if(!placeholderSupport ){
			
			//initialize placeholders onload for IE - only works if setTimeout function is there
			setTimeout(function(){
				$('.input-group input[type=text]').each(function(){
					$(this).addClass('placeholder').val($(this).attr('placeholder'));
				});
			}, 500);
			
			$(function () {
			$('[placeholder]')
				.focus(function () {
					var input = $(this);
					if (input.val() === input.attr('placeholder')) {
						input.val('').removeClass('placeholder');
					}
				})
				.blur(function () {
					var input = $(this);
					if (input.val() === '' || input.val() === input.attr('placeholder')) {
						input.addClass('placeholder').val(input.attr('placeholder'));
					}
				})
				.blur()
				.parents('form').submit(function () {
					$(this).find('[placeholder]').each(function () {
						var input = $(this);
						if (input.val() === input.attr('placeholder')) {
							input.val('');
						}
					});
				});
			});
	
		};
		
		
		$('body').on('click', '.dropdown-menu', function(e){
        	$(this).hasClass('keep_open') && e.stopPropagation(); // This replace if conditional.
    	});
		
		//print button for modal
		$('.print-modal').on('click', function(){
			$('#print-modal').modal('show');						   							   
		});
		
		//close button for modal
		$('.close-modal').on('click', function(){
			$('#error-modal').modal('hide');						   							   
		});
		
		//focus input on tab switch
		$('#t-address').on('click', function(){
			setTimeout(
			   function(){$('.add-main').focus()},300
			);
		});
		
		$('#t-owner').on('click', function(){
			setTimeout(
			   function(){$('.owner-box').focus()},300
			);
		});
		
		$('#t-folio').on('click', function(){
			setTimeout(
			   function(){$('.folio-box').focus()},300
			);
		});
		
		
		//fix for gingerbread
		var start = navigator.userAgent.indexOf("Android ");
            var majorversion = navigator.userAgent.substr(start+8,1)
            if (majorversion < 3) { 

                //alert('This is an android device running an OS < 3')

                document.querySelector("meta[name=viewport]").setAttribute(
                  'content', 
                  'width=700px, initial-scale=0.45, maximum-scale=1.0, user-scalable=1');

            }
		
	});
	
    </script>

    <div class="row tabular_data">
      <div class="col-md-6">
        <div ng-show="property" ng-include="'views/assessmentinformation.html'"></div>
        <div ng-show="property" ng-include="'views/taxablevalueinformation.html'"></div>
      </div>
      <!-- close first column -->

      <div class="col-md-6">
		<div ng-show="property" ng-include="'views/benefitsinformation.html'"></div>
        <div ng-show="property" ng-include="'views/legaldescription.html'"></div>
        <!-- <div ng-show="showFullListOfOwners()" ng-include="'views/ownerinformation.html'"></div> -->
        <!-- <div ng-show="showFullListOfSiteAddresses()" ng-include="'views/siteaddress.html'"></div> -->
        <div ng-show="property" ng-include="'views/additionalinformation.html'"></div>
      </div>

	<div class="col-md-12">
    	<div ng-show="property" ng-include="'views/salesinformation.html'"></div>
    </div>
    
    </div>
    
   
    <div ng-show="property" class="row tabular_data">

      <div class="col-md-12">
        
        <!-- Nav tabs -->
        <ul class="nav nav-tabs">
         <li ng-show="isDisplayYearTab(property, property.rollYear1)" ng-class="{active: isActiveRollYearTab(property.rollYear1)}">
			<a ng-click="setActiveRollYearTab(property.rollYear1)">{{property.rollYear1}}</a>
		  </li>
          <li ng-show="isDisplayYearTab(property, property.rollYear2)" ng-class="{active: isActiveRollYearTab(property.rollYear2)}">
			<a ng-click="setActiveRollYearTab(property.rollYear2)">{{property.rollYear2}}</a>
		  </li>
          <li ng-show="isDisplayYearTab(property, property.rollYear3)" ng-class="{active: isActiveRollYearTab(property.rollYear3)}">
			<a ng-click="setActiveRollYearTab(property.rollYear3)">{{property.rollYear3}}</a>
		  </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content" style="padding-top:15px;">
          <div class="tab-pane" ng-show="isDisplayYearTab(property, property.rollYear1)" ng-class="{active: isActiveRollYearTab(property.rollYear1)}" >
          	<div ng-show="property" ng-include="'views/landinformationcurrent.html'"></div>
            <div ng-show="property" ng-include="'views/buildinginformationcurrent.html'"></div>
            <div ng-show="property" ng-include="'views/extrafeaturescurrent.html'"></div>
          </div>
          <div class="tab-pane" ng-show="isDisplayYearTab(property, property.rollYear2)" ng-class="{active: isActiveRollYearTab(property.rollYear2)}" >
          	<div ng-show="property" ng-include="'views/landinformationprior.html'"></div>
            <div ng-show="property" ng-include="'views/buildinginformationprior.html'"></div>
            <div ng-show="property" ng-include="'views/extrafeaturesprior.html'"></div>
          </div>
          <div class="tab-pane" ng-show="isDisplayYearTab(property, property.rollYear3)" ng-class="{active: isActiveRollYearTab(property.rollYear3)}" >
          	<div ng-show="property" ng-include="'views/landinformationprior2.html'"></div>
            <div ng-show="property" ng-include="'views/buildinginformationprior2.html'"></div>
            <div ng-show="property" ng-include="'views/extrafeaturesprior2.html'"></div>
          </div>
        </div>
        
      </div>

    </div>
    
    <div ng-include="'views/disclaimer.html'"></div>
    
    
    <div ng-show="property" class="hidden-links">
    	<a href="http://gisweb.miamidade.gov/PropertySearch/default.html?folio={{property.propertyInfo.folioNumber}}" target="_blank">&nbsp;</a><a href="http://gisims2.miamidade.gov/myhome/propmap.asp?app=propmap&cmd=FINDFOLIO&folio={{property.propertyInfo.folioNumber}}" target="_blank">&nbsp;</a>
    </div>
	
  </div>
  
  <div ng-include="'views/footer.html'"></div>

</div><!-- /.container -->
